(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4:(e,t,r)=>{"use strict";r.d(t,{tU:()=>H,av:()=>$,j7:()=>X,Xi:()=>Z});var a=r(5155),s=r(2115),n=r(5185),i=r(6081),o=r(7328),l=r(6101),d=r(1285),c=r(3655),u=r(9033),f=r(5845),m=r(4315),p="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},v="RovingFocusGroup",[x,h,b]=(0,o.N)(v),[y,w]=(0,i.A)(v,[b]),[j,N]=y(v),C=s.forwardRef((e,t)=>(0,a.jsx)(x.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(x.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(R,{...e,ref:t})})}));C.displayName=v;var R=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:o=!1,dir:d,currentTabStopId:x,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:y,onEntryFocus:w,preventScrollOnEntryFocus:N=!1,...C}=e,R=s.useRef(null),k=(0,l.s)(t,R),F=(0,m.jH)(d),[T,D]=(0,f.i)({prop:x,defaultProp:null!=b?b:null,onChange:y,caller:v}),[A,_]=s.useState(!1),I=(0,u.c)(w),P=h(r),E=s.useRef(!1),[U,G]=s.useState(0);return s.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(p,I),()=>e.removeEventListener(p,I)},[I]),(0,a.jsx)(j,{scope:r,orientation:i,dir:F,loop:o,currentTabStopId:T,onItemFocus:s.useCallback(e=>D(e),[D]),onItemShiftTab:s.useCallback(()=>_(!0),[]),onFocusableItemAdd:s.useCallback(()=>G(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>G(e=>e-1),[]),children:(0,a.jsx)(c.sG.div,{tabIndex:A||0===U?-1:0,"data-orientation":i,...C,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,n.m)(e.onMouseDown,()=>{E.current=!0}),onFocus:(0,n.m)(e.onFocus,e=>{let t=!E.current;if(e.target===e.currentTarget&&t&&!A){let t=new CustomEvent(p,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===T),...e].filter(Boolean).map(e=>e.ref.current),N)}}E.current=!1}),onBlur:(0,n.m)(e.onBlur,()=>_(!1))})})}),k="RovingFocusGroupItem",F=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:o=!1,tabStopId:l,children:u,...f}=e,m=(0,d.B)(),p=l||m,g=N(k,r),v=g.currentTabStopId===p,b=h(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:j}=g;return s.useEffect(()=>{if(i)return y(),()=>w()},[i,y,w]),(0,a.jsx)(x.ItemSlot,{scope:r,id:p,focusable:i,active:o,children:(0,a.jsx)(c.sG.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{i?g.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.m)(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:(0,n.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void g.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return T[s]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=g.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>S(r))}}),children:"function"==typeof u?u({isCurrentTabStop:v,hasTabStop:null!=j}):u})})});F.displayName=k;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var D=r(8905),A="Tabs",[_,I]=(0,i.A)(A,[w]),P=w(),[E,U]=_(A),G=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...p}=e,g=(0,m.jH)(l),[v,x]=(0,f.i)({prop:s,onChange:n,defaultProp:null!=i?i:"",caller:A});return(0,a.jsx)(E,{scope:r,baseId:(0,d.B)(),value:v,onValueChange:x,orientation:o,dir:g,activationMode:u,children:(0,a.jsx)(c.sG.div,{dir:g,"data-orientation":o,...p,ref:t})})});G.displayName=A;var L="TabsList",B=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,i=U(L,r),o=P(r);return(0,a.jsx)(C,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:(0,a.jsx)(c.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});B.displayName=L;var K="TabsTrigger",J=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:i=!1,...o}=e,l=U(K,r),d=P(r),u=V(l.baseId,s),f=O(l.baseId,s),m=s===l.value;return(0,a.jsx)(F,{asChild:!0,...d,focusable:!i,active:m,children:(0,a.jsx)(c.sG.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==l.activationMode;m||i||!e||l.onValueChange(s)})})})});J.displayName=K;var q="TabsContent",M=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:i,children:o,...l}=e,d=U(q,r),u=V(d.baseId,n),f=O(d.baseId,n),m=n===d.value,p=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(D.C,{present:i||m,children:r=>{let{present:s}=r;return(0,a.jsx)(c.sG.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&o})}})});function V(e,t){return"".concat(e,"-trigger-").concat(t)}function O(e,t){return"".concat(e,"-content-").concat(t)}M.displayName=q;var z=r(3999);let H=G,X=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(B,{ref:t,className:(0,z.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...s})});X.displayName=B.displayName;let Z=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(J,{ref:t,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...s})});Z.displayName=J.displayName;let $=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(M,{ref:t,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});$.displayName=M.displayName},2145:(e,t,r)=>{Promise.resolve().then(r.bind(r,9955))},2714:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(5155),s=r(2115),n=r(968),i=r(2085),o=r(3999);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),r),...s})});d.displayName=n.b.displayName},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(5155),s=r(2115),n=r(9708),i=r(2085),o=r(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:r})),ref:t,...c})});d.displayName="Button"},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o});var a=r(5155),s=r(2115),n=r(3999);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},9026:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>d});var a=r(5155),s=r(2115),n=r(2085),i=r(3999);let o=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:s}),r),...n})});l.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...s})});d.displayName="AlertDescription"},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),s=r(2115),n=r(3999);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},9955:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),s=r(2115),n=r(5695),i=r(7168),o=r(9852),l=r(2714),d=r(9026),c=r(4);let u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,a=new Date;a.setTime(a.getTime()+24*r*36e5),document.cookie="".concat(e,"=").concat(t,";expires=").concat(a.toUTCString(),";path=/;secure;samesite=strict")},f=e=>{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")};function m(){let[e,t]=(0,s.useState)({username:"",password:""}),[r,n]=(0,s.useState)({username:"",email:"",password:""}),[m,p]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),b=async t=>{t.preventDefault(),h(!0),p("");try{let t=new FormData;t.append("username",e.username),t.append("password",e.password);let r=await fetch("http://localhost:8000/token",{method:"POST",body:t});if(r.ok){let e=await r.json();localStorage.clear(),f("access_token"),f("username"),f("user_role"),f("user_id"),f("user_email");let t=e.access_token,a=e.user;u("access_token",t,7),u("username",a.username,7),u("user_role",a.role,7),u("user_id",a.id.toString(),7),u("user_email",a.email,7),window.location.href="/dashboard"}else{let e=await r.json();p(e.detail||"Login failed")}}catch(e){console.error("Login error:",e),p("Network error. Please try again.")}finally{h(!1)}},y=async e=>{e.preventDefault(),h(!0),p(""),v("");try{let e=await fetch("http://localhost:8000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){let t=await e.json();v(t.message||"Account created successfully! Please wait for admin approval."),n({username:"",email:"",password:""})}else{let t=await e.json();p(t.detail||"Signup failed")}}catch(e){p("Network error. Please try again.")}finally{h(!1)}};return(0,a.jsxs)(c.tU,{defaultValue:"login",className:"w-full",children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(c.Xi,{value:"login",children:"Login"}),(0,a.jsx)(c.Xi,{value:"signup",children:"Sign Up"})]}),(0,a.jsx)(c.av,{value:"login",children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"username",children:"Username"}),(0,a.jsx)(o.p,{id:"username",type:"text",value:e.username,onChange:r=>t({...e,username:r.target.value}),required:!0,disabled:x,autoComplete:"username"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(o.p,{id:"password",type:"password",value:e.password,onChange:r=>t({...e,password:r.target.value}),required:!0,disabled:x,autoComplete:"current-password"})]}),m&&(0,a.jsx)(d.Fc,{variant:"destructive",children:(0,a.jsx)(d.TN,{children:m})}),(0,a.jsx)(i.$,{type:"submit",className:"w-full",disabled:x,children:x?"Signing in...":"Sign In"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 text-center bg-gray-50 p-3 rounded-md",children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Default admin credentials:"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Username:"})," admin"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Password:"})," admin123"]})]})]})}),(0,a.jsx)(c.av,{value:"signup",children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-username",children:"Username"}),(0,a.jsx)(o.p,{id:"signup-username",type:"text",value:r.username,onChange:e=>n({...r,username:e.target.value}),required:!0,disabled:x,autoComplete:"username"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-email",children:"Email"}),(0,a.jsx)(o.p,{id:"signup-email",type:"email",value:r.email,onChange:e=>n({...r,email:e.target.value}),required:!0,disabled:x,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-password",children:"Password"}),(0,a.jsx)(o.p,{id:"signup-password",type:"password",value:r.password,onChange:e=>n({...r,password:e.target.value}),required:!0,disabled:x,autoComplete:"new-password",minLength:6})]}),m&&(0,a.jsx)(d.Fc,{variant:"destructive",children:(0,a.jsx)(d.TN,{children:m})}),g&&(0,a.jsx)(d.Fc,{className:"border-green-200 bg-green-50",children:(0,a.jsx)(d.TN,{className:"text-green-800",children:g})}),(0,a.jsx)(i.$,{type:"submit",className:"w-full",disabled:x,children:x?"Creating account...":"Sign Up"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 text-center",children:(0,a.jsx)("p",{children:"New accounts require admin approval before you can sign in."})})]})})]})}var p=r(8482);function g(){let[e,t]=(0,s.useState)(!1),r=(0,n.useRouter)();return((0,s.useEffect)(()=>{localStorage.getItem("access_token")?r.replace("/dashboard"):t(!0)},[r]),e)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Partners8"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Welcome to the Partners8 platform"})]}),(0,a.jsxs)(p.Zp,{children:[(0,a.jsxs)(p.aR,{children:[(0,a.jsx)(p.ZB,{children:"Access Your Account"}),(0,a.jsx)(p.BT,{children:"Sign in to your existing account or create a new one"})]}),(0,a.jsx)(p.Wu,{children:(0,a.jsx)(m,{})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})})}}},e=>{e.O(0,[711,539,441,964,358],()=>e(e.s=2145)),_N_E=e.O()}]);