(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4:(e,t,r)=>{"use strict";r.d(t,{tU:()=>H,av:()=>$,j7:()=>X,Xi:()=>Z});var a=r(5155),s=r(2115),n=r(5185),o=r(6081),i=r(7328),l=r(6101),c=r(1285),d=r(3655),u=r(9033),f=r(5845),m=r(4315),p="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[v,x,b]=(0,i.N)(h),[w,y]=(0,o.A)(h,[b]),[j,N]=w(h),R=s.forwardRef((e,t)=>(0,a.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(C,{...e,ref:t})})}));R.displayName=h;var C=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:c,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,...R}=e,C=s.useRef(null),T=(0,l.s)(t,C),k=(0,m.jH)(c),[F,A]=(0,f.i)({prop:v,defaultProp:null!=b?b:null,onChange:w,caller:h}),[D,I]=s.useState(!1),E=(0,u.c)(y),_=x(r),P=s.useRef(!1),[L,U]=s.useState(0);return s.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,E),()=>e.removeEventListener(p,E)},[E]),(0,a.jsx)(j,{scope:r,orientation:o,dir:k,loop:i,currentTabStopId:F,onItemFocus:s.useCallback(e=>A(e),[A]),onItemShiftTab:s.useCallback(()=>I(!0),[]),onFocusableItemAdd:s.useCallback(()=>U(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>U(e=>e-1),[]),children:(0,a.jsx)(d.sG.div,{tabIndex:D||0===L?-1:0,"data-orientation":o,...R,ref:T,style:{outline:"none",...e.style},onMouseDown:(0,n.m)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,n.m)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!D){let t=new CustomEvent(p,g);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=_().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===F),...e].filter(Boolean).map(e=>e.ref.current),N)}}P.current=!1}),onBlur:(0,n.m)(e.onBlur,()=>I(!1))})})}),T="RovingFocusGroupItem",k=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:l,children:u,...f}=e,m=(0,c.B)(),p=l||m,g=N(T,r),h=g.currentTabStopId===p,b=x(r),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:j}=g;return s.useEffect(()=>{if(o)return w(),()=>y()},[o,w,y]),(0,a.jsx)(v.ItemSlot,{scope:r,id:p,focusable:o,active:i,children:(0,a.jsx)(d.sG.span,{tabIndex:h?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{o?g.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.m)(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:(0,n.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void g.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return F[s]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=g.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>S(r))}}),children:"function"==typeof u?u({isCurrentTabStop:h,hasTabStop:null!=j}):u})})});k.displayName=T;var F={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var A=r(8905),D="Tabs",[I,E]=(0,o.A)(D,[y]),_=y(),[P,L]=I(D),U=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:u="automatic",...p}=e,g=(0,m.jH)(l),[h,v]=(0,f.i)({prop:s,onChange:n,defaultProp:null!=o?o:"",caller:D});return(0,a.jsx)(P,{scope:r,baseId:(0,c.B)(),value:h,onValueChange:v,orientation:i,dir:g,activationMode:u,children:(0,a.jsx)(d.sG.div,{dir:g,"data-orientation":i,...p,ref:t})})});U.displayName=D;var q="TabsList",G=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,o=L(q,r),i=_(r);return(0,a.jsx)(R,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:(0,a.jsx)(d.sG.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});G.displayName=q;var B="TabsTrigger",J=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:o=!1,...i}=e,l=L(B,r),c=_(r),u=M(l.baseId,s),f=V(l.baseId,s),m=s===l.value;return(0,a.jsx)(k,{asChild:!0,...c,focusable:!o,active:m,children:(0,a.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==l.activationMode;m||o||!e||l.onValueChange(s)})})})});J.displayName=B;var K="TabsContent",O=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:i,...l}=e,c=L(K,r),u=M(c.baseId,n),f=V(c.baseId,n),m=n===c.value,p=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(A.C,{present:o||m,children:r=>{let{present:s}=r;return(0,a.jsx)(d.sG.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&i})}})});function M(e,t){return"".concat(e,"-trigger-").concat(t)}function V(e,t){return"".concat(e,"-content-").concat(t)}O.displayName=K;var z=r(3999);let H=U,X=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(G,{ref:t,className:(0,z.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...s})});X.displayName=G.displayName;let Z=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(J,{ref:t,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...s})});Z.displayName=J.displayName;let $=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(O,{ref:t,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});$.displayName=O.displayName},2145:(e,t,r)=>{Promise.resolve().then(r.bind(r,9955))},2714:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var a=r(5155),s=r(2115),n=r(968),o=r(2085),i=r(3999);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(l(),r),...s})});c.displayName=n.b.displayName},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},4938:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});class a{async request(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n="".concat(this.baseURL).concat(t),o={method:e,headers:{"Content-Type":"application/json",...a}};r&&(o.body=JSON.stringify(r));let i="".concat(e,"-").concat(n,"-").concat(JSON.stringify(r));if(s&&this.cache.has(i))return console.log("Cache hit for ".concat(i)),this.cache.get(i);try{let e=await fetch(n,o);if(!e.ok){let t=await e.json().catch(()=>({detail:e.statusText}));throw Error(t.detail||"API Error: ".concat(e.status))}let t=await e.json();return s&&this.cache.set(i,t),t}catch(t){throw console.error("API Request Error (".concat(e," ").concat(n,"):"),t),t}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request("GET",e,null,t,r)}post(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,t,r)}put(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,t,r)}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,null,t)}constructor(){this.baseURL=function(){let e=window.location.hostname;window.location.port;let t=window.location.protocol;return"localhost"===e||"127.0.0.1"===e?"http://localhost:8000":"".concat(t,"//").concat(e,":8000")}(),this.cache=new Map,console.log("API Client initialized with base URL: ".concat(this.baseURL))}}let s=new a},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),s=r(2115),n=r(9708),o=r(2085),i=r(3999);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:r})),ref:t,...d})});c.displayName="Button"},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>i});var a=r(5155),s=r(2115),n=r(3999);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},9026:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>c});var a=r(5155),s=r(2115),n=r(2085),o=r(3999);let i=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,o.cn)(i({variant:s}),r),...n})});l.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(5155),s=r(2115),n=r(3999);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"},9955:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(2115),n=r(5695),o=r(7168),i=r(9852),l=r(2714),c=r(9026),d=r(4),u=r(4938);let f=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,a=new Date;a.setTime(a.getTime()+24*r*36e5),document.cookie="".concat(e,"=").concat(t,";expires=").concat(a.toUTCString(),";path=/;secure;samesite=strict")},m=e=>{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")};function p(){let[e,t]=(0,s.useState)({username:"",password:""}),[r,n]=(0,s.useState)({username:"",email:"",password:""}),[p,g]=(0,s.useState)(""),[h,v]=(0,s.useState)(""),[x,b]=(0,s.useState)(!1),w=async t=>{t.preventDefault(),b(!0),g("");try{let t=new FormData;t.append("username",e.username),t.append("password",e.password);let r=await fetch("".concat(u.u.baseURL,"/token"),{method:"POST",body:t});if(r.ok){let e=await r.json();localStorage.clear(),m("access_token"),m("username"),m("user_role"),m("user_id"),m("user_email");let t=e.access_token,a=e.user;f("access_token",t,7),f("username",a.username,7),f("user_role",a.role,7),f("user_id",a.id.toString(),7),f("user_email",a.email,7),window.location.href="/dashboard"}else{let e=await r.json();g(e.detail||"Login failed")}}catch(e){console.error("Login error:",e),g("Network error. Please try again.")}finally{b(!1)}},y=async e=>{e.preventDefault(),b(!0),g(""),v("");try{let e=await fetch("".concat(u.u.baseURL,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){let t=await e.json();v(t.message||"Account created successfully! Please wait for admin approval."),n({username:"",email:"",password:""})}else{let t=await e.json();g(t.detail||"Signup failed")}}catch(e){g("Network error. Please try again.")}finally{b(!1)}};return(0,a.jsxs)(d.tU,{defaultValue:"login",className:"w-full",children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(d.Xi,{value:"login",children:"Login"}),(0,a.jsx)(d.Xi,{value:"signup",children:"Sign Up"})]}),(0,a.jsx)(d.av,{value:"login",children:(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"username",children:"Username"}),(0,a.jsx)(i.p,{id:"username",type:"text",value:e.username,onChange:r=>t({...e,username:r.target.value}),required:!0,disabled:x,autoComplete:"username"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(i.p,{id:"password",type:"password",value:e.password,onChange:r=>t({...e,password:r.target.value}),required:!0,disabled:x,autoComplete:"current-password"})]}),p&&(0,a.jsx)(c.Fc,{variant:"destructive",children:(0,a.jsx)(c.TN,{children:p})}),(0,a.jsx)(o.$,{type:"submit",className:"w-full",disabled:x,children:x?"Signing in...":"Sign In"})]})}),(0,a.jsx)(d.av,{value:"signup",children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-username",children:"Username"}),(0,a.jsx)(i.p,{id:"signup-username",type:"text",value:r.username,onChange:e=>n({...r,username:e.target.value}),required:!0,disabled:x,autoComplete:"username"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-email",children:"Email"}),(0,a.jsx)(i.p,{id:"signup-email",type:"email",value:r.email,onChange:e=>n({...r,email:e.target.value}),required:!0,disabled:x,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"signup-password",children:"Password"}),(0,a.jsx)(i.p,{id:"signup-password",type:"password",value:r.password,onChange:e=>n({...r,password:e.target.value}),required:!0,disabled:x,autoComplete:"new-password",minLength:6})]}),p&&(0,a.jsx)(c.Fc,{variant:"destructive",children:(0,a.jsx)(c.TN,{children:p})}),h&&(0,a.jsx)(c.Fc,{className:"border-green-200 bg-green-50",children:(0,a.jsx)(c.TN,{className:"text-green-800",children:h})}),(0,a.jsx)(o.$,{type:"submit",className:"w-full",disabled:x,children:x?"Creating account...":"Sign Up"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 text-center",children:(0,a.jsx)("p",{children:"New accounts require admin approval before you can sign in."})})]})})]})}var g=r(8482);function h(){let[e,t]=(0,s.useState)(!1),r=(0,n.useRouter)();return((0,s.useEffect)(()=>{localStorage.getItem("access_token")?r.replace("/dashboard"):t(!0)},[r]),e)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Partners8"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Welcome to the Partners8 platform"})]}),(0,a.jsxs)(g.Zp,{children:[(0,a.jsxs)(g.aR,{children:[(0,a.jsx)(g.ZB,{children:"Access Your Account"}),(0,a.jsx)(g.BT,{children:"Sign in to your existing account or create a new one"})]}),(0,a.jsx)(g.Wu,{children:(0,a.jsx)(p,{})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})})}}},e=>{e.O(0,[711,539,441,964,358],()=>e(e.s=2145)),_N_E=e.O()}]);